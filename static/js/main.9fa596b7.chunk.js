(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),i=n.n(c),o=(n(82),n(31)),u=n(25),s=n(125),l=n(137),d=n(24),m=n(19),p=n(127),O=n(128),E=n(46),v=Object(s.a)((function(e){return Object(l.a)({questionBox:{padding:e.spacing(8)},answer:{padding:e.spacing(8)},option:{textAlign:"center"}})}));var f=function(e){var t=e.onAnswer,n=e.currentQuestion,a=e.activity,c=e.round,i=e.waitForNextRound,o=e.moveToNextRound,u=v(),s=c?"".concat(a.name," / ").concat(c.title):a.name;return i?r.a.createElement(p.a,{container:!0,spacing:8,className:u.questionBox},r.a.createElement(p.a,{item:!0,className:u.option,xs:12},r.a.createElement(O.a,{onClick:o},"Next Round"))):r.a.createElement(p.a,{container:!0,spacing:8,className:u.questionBox},r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"h6"},s.toUpperCase())),r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"h5"},"Question ",n.order,".")),r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"h5",className:"question"},n.content,".")),r.a.createElement(p.a,{item:!0,xs:6,className:u.option},r.a.createElement(O.a,{onClick:t},"Correct")),r.a.createElement(p.a,{item:!0,xs:6,className:u.option},r.a.createElement(O.a,{onClick:t},"InCorrect")))},b=n(22),h="".concat("QUESTIONS.GET_ALL","_SUCCESS");"".concat("QUESTIONS.QUESTIONS.COUNT","_SUCCESS");function S(e){return e.type===h}var g="".concat("ACTIVITIES.GET_ALL","_SUCCESS");"".concat("ACTIVITIES.QUESTIONS.COUNT","_SUCCESS");function y(e){return e.type===g}var I=n(129),j=n(136),N=n(130),T=n(131),C=Object(s.a)((function(e){return{root:{width:"100%",maxWidth:360,margin:"auto"},center:{textAlign:"center"}}}));var _=function(e){var t=e.activity,n=e.questions,a=C();return r.a.createElement(I.a,{component:"nav",className:a.root,"aria-label":"result-list"},r.a.createElement(j.a,{className:a.center},r.a.createElement(N.a,null,r.a.createElement(E.a,{variant:"h5"},t.name))),r.a.createElement(j.a,{className:a.center},r.a.createElement(N.a,null,r.a.createElement(E.a,{variant:"h5"},"Results"))),r.a.createElement(T.a,{light:!0}),Object.keys(n).map((function(e){var t=n[e];return r.a.createElement(j.a,{button:!0,key:e,divider:!0,className:a.center},r.a.createElement(N.a,{primary:"Q".concat(t.id)}),r.a.createElement(N.a,{primary:t.isCorrect?"correct":"false"}))})))},q=n(68),w=n.n(q),U=Object(s.a)((function(e){return{homeIcon:{marginLeft:"45%"}}})),L=function(e){var t=e.onClick,n=U();return r.a.createElement(O.a,{onClick:t,className:n.homeIcon,component:u.b,to:"/"},r.a.createElement(w.a,null))};var x=Object(b.b)((function(e){return{questions:e.questionsOnly.byId,questionIds:e.questionsOnly.allIds,activities:e.activities.byId}}),(function(e){return{dispatch:e}}))((function(e){var t=e.match,n=e.questions,c=e.dispatch,i=e.questionIds,o=e.activities,u=Object(a.useState)(null),s=Object(m.a)(u,2),l=s[0],d=s[1],O=Object(a.useState)(1),v=Object(m.a)(O,2),b=v[0],h=v[1],S=t.params.id,g=o[S];return Object(a.useEffect)((function(){c({payload:{client:"api",request:{url:"/activities"}},type:"ACTIVITIES.GET_ALL"})}),[c,S]),Object(a.useEffect)((function(){c({payload:{client:"api",request:{url:"/activities/".concat(S,"/questions")}},type:"QUESTIONS.GET_ALL"})}),[c,S]),Object(a.useEffect)((function(){i&&i.length>0&&d(n[b])}),[i,b,n]),null===l?r.a.createElement(p.a,{container:!0},r.a.createElement(E.a,{variant:"h4"},"Loading...")):b>i.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{questions:n,activity:g}),r.a.createElement(L,null)):r.a.createElement(p.a,{container:!0},r.a.createElement(p.a,{item:!0},r.a.createElement(f,{currentQuestion:l,activity:g,onAnswer:function(){b<=i.length&&(h(b+1),d(n[b+1]))},round:null})))})),A=n(135),R=n(132),k=Object(s.a)((function(e){return Object(l.a)({header:Object(o.a)({marginBottom:e.spacing(5),marginTop:e.spacing(5),marginLeft:e.spacing(10)},e.breakpoints.up("md"),{marginLeft:e.spacing(23)}),bodyText:Object(o.a)({marginLeft:e.spacing(9)},e.breakpoints.up("md"),{marginLeft:e.spacing(23)}),questionBox:Object(o.a)({},e.breakpoints.up("md"),{padding:e.spacing(8),maxWidth:345}),question:{border:1},answer:{padding:e.spacing(8)}})}));var Q=Object(b.b)((function(e){return{activities:e.activities.byId}}),(function(e){return{dispatch:e}}))((function(e){var t=e.activities,n=e.dispatch,c=k();return Object(a.useEffect)((function(){n({payload:{client:"api",request:{url:"/activities"}},type:"ACTIVITIES.GET_ALL"})}),[n]),r.a.createElement(I.a,{component:"nav",className:c.root,"aria-label":"result-list"},r.a.createElement(j.a,{className:c.header},r.a.createElement(E.a,{variant:"h4"}," Quiz ")),r.a.createElement(T.a,{light:!0}),Object(A.a)((function(e){return r.a.createElement(j.a,{button:!0,divider:!0,variant:"contained",color:"primary",component:u.b,to:(t=e.id,{1:"/activities/".concat(t,"/questions"),2:"/activities/".concat(t,"/rounds")})[e.id]},r.a.createElement(N.a,{className:c.bodyText,primary:e.name}));var t}),Object(R.a)(t)))})),D="".concat("ROUNDS.GET_ALL","_SUCCESS"),G="".concat("ROUNDS.QUESTIONS.COUNT","_SUCCESS"),B="".concat("ROUNDS.GET_QUESTION_ALL","_SUCCESS");function P(e){return e.type===D}function V(e){return e.type===B}function W(e){return e.type===G}var J=n(69),z=n(70),X=function(){function e(){Object(J.a)(this,e),this.storage=window.sessionStorage}return Object(z.a)(e,[{key:"addItem",value:function(e,t){var n,a=this.storage.getItem(e);a?(n=JSON.parse(a)).push(t):n=[t],this.storage.setItem(e,JSON.stringify(n))}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return t?JSON.parse(t):[]}},{key:"resetItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.storage.setItem(e,JSON.stringify(t))}}]),e}(),F=n(133),M=new X;var K=function(e){var t=e.activity,n=e.cacheName,a=Object(F.a)((function(e){return e.id}),M.getItem(n));return r.a.createElement(_,{activity:t,questions:a})},H=new X;H.resetItem("processedQuestions",[]);var $=[{component:Q,path:"/"},{component:x,path:"/activities/:id/questions"},{component:Object(b.b)((function(e){return{questions:e.withRounds.byOrder,questionIds:e.withRounds.allOrders,questionCount:e.withRounds.count,activities:e.activities.byId,rounds:e.withRounds.roundByOrder,roundIds:e.withRounds.roundOrders}}),(function(e){return{dispatch:e}}))((function(e){var t=e.match,n=e.questions,c=e.dispatch,i=e.questionIds,o=e.activities,u=e.rounds,s=e.roundIds,l=e.questionCount,d=Object(a.useState)(null),O=Object(m.a)(d,2),v=O[0],b=O[1],h=Object(a.useState)(1),S=Object(m.a)(h,2),g=S[0],y=S[1],I=Object(a.useState)(null),j=Object(m.a)(I,2),N=j[0],T=j[1],C=Object(a.useState)(1),_=Object(m.a)(C,2),q=_[0],w=_[1],U=Object(a.useState)(!1),x=Object(m.a)(U,2),A=x[0],R=x[1],k=Object(a.useState)(!1),Q=Object(m.a)(k,2),D=Q[0],G=Q[1],B=t.params.id,P=o[B];return Object(a.useEffect)((function(){c({payload:{client:"api",request:{url:"/activities"}},type:"ACTIVITIES.GET_ALL"}),c({payload:{client:"api",request:{url:"/activities/".concat(B,"/rounds")}},type:"ROUNDS.GET_ALL"}),c(function(e){return{payload:{client:"api",request:{url:"/activities/".concat(e,"/questions/count")}},type:"ROUNDS.QUESTIONS.COUNT"}}(B))}),[c,B]),Object(a.useEffect)((function(){s&&s.length>0&&b(u[g])}),[s,u,g]),Object(a.useEffect)((function(){var e;c((e=g,{payload:{client:"api",request:{url:"/activities/".concat(B,"/rounds/").concat(e,"/questions")}},type:"ROUNDS.GET_QUESTION_ALL"})),w(1)}),[c,B,g]),Object(a.useEffect)((function(){i&&i.length>0&&T(n[q])}),[i,q,n]),null===N?r.a.createElement(p.a,{container:!0},r.a.createElement(E.a,{variant:"h4"},"Loading...")):D?r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{activity:P,cacheName:"processedQuestions"}),r.a.createElement(L,{onClick:function(){return H.resetItem("processedQuestions",[])}})):r.a.createElement(p.a,{container:!0},r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(f,{currentQuestion:N,activity:P,onAnswer:function(){if(H.addItem("processedQuestions",N),g<=s.length)if(q<i.length){var e=q+1;w(e),T(n[e])}else g<s.length&&R(!0);H.getItem("processedQuestions").length===l&&G(!0)},round:v,waitForNextRound:A,moveToNextRound:function(){R(!1);var e=g+1;y(e),b(u[e])}})))})),path:"/activities/:id/rounds"}].map((function(e,t){return r.a.createElement(d.a,{key:t,exact:!0,path:e.path,component:e.component})})),Y=function(){return r.a.createElement(d.c,null,$)},Z=n(139),ee={api:{url:Object({NODE_ENV:"production",PUBLIC_URL:"/quiz-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL||"http://localhost:3009"},basename:"/quiz-app"},te=Object(s.a)((function(e){return Object(l.a)({contentGrid:{flexGrow:1,padding:e.spacing(3)},root:{display:"flex"},content:Object(o.a)({},e.breakpoints.up("md"),{userSelect:"none",overflowX:"hidden",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:"30%"})})})),ne=function(){var e=te();return r.a.createElement(u.a,{basename:ee.basename},r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.contentGrid},r.a.createElement(Z.a,{className:e.content},r.a.createElement(Y,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=n(10),re=n(71),ce=n(72),ie=n.n(ce),oe=n(73),ue={api:{client:ie.a.create({baseURL:"".concat(ee.api.url,"/api"),responseType:"json"})}},se=Object(oe.multiClientMiddleware)(ue),le=n(134),de=function(e){return!!Object(le.a)(["meta","previousAction","onSuccess"],e)},me=function(e){return e.type&&e.type.indexOf("_SUCCESS")>-1},pe={byId:{}},Oe=Object(ae.c)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe.byId,t=arguments.length>1?arguments[1]:void 0;if(y(t))return Ee(t.payload.data);return e}}),Ee=Object(F.a)((function(e){return e.id}));var ve={allIds:[],byId:{},count:null},fe=Object(ae.c)({allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve.allIds,t=arguments.length>1?arguments[1]:void 0;if(S(t))return he(t.payload.data);return e},byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve.byId,t=arguments.length>1?arguments[1]:void 0;if(S(t))return be(t.payload.data);return e},count:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve.count;arguments.length>1&&arguments[1];return e}}),be=Object(F.a)((function(e){return e.id})),he=Object(A.a)((function(e){return e.id}));var Se={allOrders:[],byOrder:{},count:null,roundByOrder:{},roundOrders:[]},ge=Object(ae.c)({allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se.allOrders,t=arguments.length>1?arguments[1]:void 0;if(V(t))return Ie(t.payload.data);return e},byOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se.byOrder,t=arguments.length>1?arguments[1]:void 0;if(V(t))return ye(t.payload.data);return e},count:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se.count,t=arguments.length>1?arguments[1]:void 0;if(W(t))return t.payload.data.count;return e},roundByOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se.roundByOrder,t=arguments.length>1?arguments[1]:void 0;if(P(t))return ye(t.payload.data);return e},roundOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se.roundOrders,t=arguments.length>1?arguments[1]:void 0;if(P(t))return Ie(t.payload.data);return e}}),ye=Object(F.a)((function(e){return e.order})),Ie=Object(A.a)((function(e){return e.order}));var je=Object(ae.c)({activities:Oe,questionsOnly:fe,withRounds:ge}),Ne="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0}):ae.d,Te=Object(ae.e)(je,Ne(Object(ae.a)(se,(function(e){return function(t){return function(n){me(n)&&de(n)&&e.dispatch(n.meta.previousAction.onSuccess(n.payload.data)),t(n)}}}),re.a)));i.a.render(r.a.createElement(b.a,{store:Te},r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},77:function(e,t,n){e.exports=n(107)},82:function(e,t,n){}},[[77,1,2]]]);
//# sourceMappingURL=main.9fa596b7.chunk.js.map